name: quiz-app
version: "1.0.0"
summary: Quiz App
description: |
  A Quiz application that provides an interactive and engaging quiz experience.
base: core24
confinement: strict
grade: stable

apps:
  quiz-app:
    command: quiz_app
    extensions: [gnome]
    plugs:
      - network
      - home

parts:
  quiz-app:
    plugin: flutter
    source: .
    flutter-target: lib/main.dart
    build-environment:
      - PUB_CACHE: "$SNAPCRAFT_PART_BUILD/.pub-cache"

  desktop-assets:
    plugin: dump
    source: snap
    organize:
      gui/quiz-app.desktop: meta/gui/quiz-app.desktop
      # Place main app icon where desktop file validator expects it
      gui/quiz-app.png: meta/gui/quiz-app.png
      # MIME type icon
      gui/application-x-quiz.png: meta/gui/icons/hicolor/256x256/mimetypes/application-x-quiz.png
      local/x-quiz.xml: meta/gui/mime/packages/x-quiz.xml

  desktop-icons:
    plugin: dump
    source: snap
    organize:
      # Also place app icon in hicolor theme for proper desktop integration
      gui/quiz-app.png: meta/gui/icons/hicolor/256x256/apps/quiz-app.png
